<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WebAR Business Demo</title>

  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    body { margin:0; font-family: Arial, sans-serif; background:#0f172a; color:#fff; }
    header { padding:12px; text-align:center; background:#020617; }
    h1 { font-size:18px; margin:0; }
    .container { padding:10px; }
    model-viewer { width:100%; height:40vh; background:#020617; border-radius:12px; }
    .menu { margin-top:10px; display:grid; grid-template-columns:1fr 1fr; gap:8px; }
    .item { background:#020617; padding:10px; border-radius:10px; }
    .item button { margin-top:6px; width:100%; background:#22c55e; border:none; padding:8px; border-radius:6px; cursor:pointer; }
    .cartBar { position:fixed; bottom:0; left:0; right:0; background:#020617; padding:10px; display:flex; justify-content:space-between; align-items:center; }
    .cartBar button { background:#3b82f6; border:none; padding:10px 14px; border-radius:8px; color:#fff; }
    .checkout { display:none; padding:10px; background:#020617; border-radius:12px; margin-top:10px; }
    input { width:100%; padding:10px; margin:6px 0; border-radius:6px; border:none; }
  </style>
</head>
<body>

<header>
  <h1>AR Menu & Product Demo</h1>
</header>

<div class="container">

  <!-- AR Viewer -->
  <model-viewer 
    id="viewer"
    src="https://modelviewer.dev/shared-assets/models/Astronaut.glb"
    ar
    ar-modes="webxr scene-viewer quick-look"
    camera-controls
    auto-rotate
    shadow-intensity="1"
    exposure="1">
  </model-viewer>

  <!-- Menu -->
  <div class="menu">
    <div class="item">
      <strong>Pizza</strong><br/>Rs 1200
      <button onclick="showProduct('https://modelviewer.dev/shared-assets/models/Astronaut.glb','Pizza',1200)">View in AR</button>
      <button onclick="addToCart('Pizza',1200)">Add to Cart</button>
    </div>
    <div class="item">
      <strong>Burger</strong><br/>Rs 600
      <button onclick="showProduct('https://modelviewer.dev/shared-assets/models/Astronaut.glb','Burger',600)">View in AR</button>
      <button onclick="addToCart('Burger',600)">Add to Cart</button>
    </div>
  </div>

  <!-- Checkout -->
  <div class="checkout" id="checkoutBox">
    <h3>Checkout</h3>
    <input type="text" id="name" placeholder="Your Name" />
    <input type="tel" id="phone" placeholder="Phone Number" />
    <button onclick="placeOrder()">Place Order</button>
  </div>

</div>

<div class="cartBar">
  <span id="cartText">Cart: 0 items | Total: Rs 0</span>
  <button onclick="openCheckout()">Checkout</button>
</div>

<script>
  let cart = [];
  let total = 0;

  function showProduct(modelUrl, name, price) {
    document.getElementById("viewer").setAttribute("src", modelUrl);
  }

  function addToCart(name, price) {
    cart.push({ name, price });
    total += price;
    document.getElementById("cartText").innerText = `Cart: ${cart.length} items | Total: Rs ${total}`;
    alert(name + " added to cart");
  }

  function openCheckout() {
    document.getElementById("checkoutBox").style.display = "block";
  }

  function placeOrder() {
    const name = document.getElementById("name").value;
    const phone = document.getElementById("phone").value;

    if (!name || !phone) {
      alert("Please enter name & phone");
      return;
    }

    const order = {
      customer: name,
      phone: phone,
      items: cart,
      total: total
    };

    console.log("ORDER SUBMITTED:", order);
    alert("Order placed successfully! (Demo)");

    cart = [];
    total = 0;
    document.getElementById("cartText").innerText = "Cart: 0 items | Total: Rs 0";
    document.getElementById("checkoutBox").style.display = "none";
  }
</script>

</body>
</html>